{"version":3,"sources":["components/SearchForm/SearchForm.module.css","components/Loader/Loader.module.css","components/ImageSearchApp.module.css","components/SearchForm/SerachForm.js","components/GalleryItem/GalleryItem.js","components/Modal/Modal.js","components/Gallery/Gallery.js","components/Loader/Loader.js","services/pixabayAPI.js","components/ImageSearchApp.js","index.js","components/Modal/Modal.module.css","components/Gallery/Gallery.module.css"],"names":["module","exports","searchForm","loader","app","SearchForm","_ref","onSearch","value","onSubmit","react_default","a","createElement","className","styles","type","autoComplete","placeholder","onChange","GalleryItem","image","onShowLarge","likes","views","comments","downloads","webformatURL","largeImageURL","src","alt","onClick","Modal","state","backdropeRef","createRef","handleKeyPress","e","code","_this","props","onClose","handleKeyDowm","handleBackDropClick","current","target","window","addEventListener","this","removeEventListener","largeImage","overlay","ref","onKeyDown","handleKeyDown","role","tabIndex","modal","Component","Gallery","hadleLargeImageClick","setState","closeModal","_this2","_this$props","images","_this$state","components_Modal_Modal","gallery","map","key","id","components_GalleryItem_GalleryItem","showMoreButton","defaultProps","Loader","fetchImages","query","page","axios","get","concat","scrollToBottom","document","querySelector","scrollIntoView","behavior","ImageSearchApp","searchValue","isLoading","error","handleSubmit","preventDefault","pixabayAPI","then","hits","data","prevState","catch","finally","handleChange","showMore","_ref2","Object","toConsumableArray","_this$state2","SerachForm","message","components_Loader_Loader","length","components_Gallery_Gallery","ReactDOM","render","components_ImageSearchApp","getElementById"],"mappings":"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","file":"static/js/main.8542136a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchForm\":\"SearchForm_searchForm__-Zu33\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__3biP2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"ImageSearchApp_app__es103\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './SearchForm.module.css';\n\nconst SearchForm = ({ onSearch, value, onSubmit }) => (\n  <form className={styles.searchForm} onSubmit={onSubmit}>\n    <input\n      type=\"text\"\n      autoComplete=\"off\"\n      placeholder=\"Search images...\"\n      onChange={onSearch}\n      value={value}\n    />\n  </form>\n);\n\nSearchForm.propTypes = {\n  onSearch: PropTypes.func.isRequired,\n  value: PropTypes.string.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default SearchForm;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './GalleryItem.css';\n\nconst GalleryItem = ({ image, onShowLarge }) => {\n  const {\n    likes,\n    views,\n    comments,\n    downloads,\n    webformatURL,\n    largeImageURL,\n  } = image;\n\n  return (\n    <div className=\"photo-card\">\n      <img src={webformatURL} alt=\"img\" />\n      <div className=\"stats\">\n        <p className=\"stats-item\">\n          <i className=\"material-icons\">thumb_up</i>\n          {likes}\n        </p>\n        <p className=\"stats-item\">\n          <i className=\"material-icons\">visibility</i>\n          {views}\n        </p>\n        <p className=\"stats-item\">\n          <i className=\"material-icons\">comments</i>\n          {comments}\n        </p>\n        <p className=\"stats-item\">\n          <i className=\"material-icons\">cloud_download</i>\n          {downloads}\n        </p>\n      </div>\n\n      <button\n        className=\"fullscreen-button\"\n        type=\"button\"\n        onClick={() => onShowLarge(largeImageURL)}\n      >\n        <i className=\"material-icons\">zoom_out_map</i>\n      </button>\n    </div>\n  );\n};\n\nGalleryItem.propTypes = {\n  image: PropTypes.shape({\n    likes: PropTypes.number.isRequired,\n    views: PropTypes.number.isRequired,\n    comments: PropTypes.number.isRequired,\n    downloads: PropTypes.number.isRequired,\n    webformatURL: PropTypes.string.isRequired,\n    largeImageURL: PropTypes.string.isRequired,\n  }).isRequired,\n  onShowLarge: PropTypes.func.isRequired,\n};\n\nexport default GalleryItem;\n","import React, { Component, createRef } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Modal.module.css';\n\nclass Modal extends Component {\n  static propTypes = {\n    onClose: PropTypes.func.isRequired,\n    largeImage: PropTypes.string.isRequired,\n  };\n\n  state = {};\n\n  backdropeRef = createRef();\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyPress);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyPress);\n  }\n\n  handleKeyPress = e => {\n    if (e.code !== 'Escape') return;\n    this.props.onClose();\n  };\n\n  handleKeyDowm = () => {};\n\n  handleBackDropClick = e => {\n    const { current } = this.backdropeRef;\n    if (current && e.target !== current) return;\n    this.props.onClose();\n  };\n\n  render() {\n    const { largeImage } = this.props;\n\n    return (\n      <div\n        className={styles.overlay}\n        onClick={this.handleBackDropClick}\n        ref={this.backdropeRef}\n        onKeyDown={this.handleKeyDown}\n        role=\"button\"\n        tabIndex=\"0\"\n      >\n        <div className={styles.modal}>\n          <img src={largeImage} alt=\"\" className={styles.modal} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Modal;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport GalleryItem from '../GalleryItem/GalleryItem';\nimport Modal from '../Modal/Modal';\nimport styles from './Gallery.module.css';\n\nclass Gallery extends Component {\n  static propTypes = {\n    images: PropTypes.arrayOf(PropTypes.object.isRequired),\n    onSearch: PropTypes.func.isRequired,\n  };\n\n  static defaultProps = {\n    images: [],\n  };\n\n  state = {\n    largeImage: '',\n    modal: false,\n  };\n\n  hadleLargeImageClick = largeImage => {\n    this.setState({ largeImage, modal: true });\n  };\n\n  closeModal = () => {\n    this.setState({ modal: false });\n  };\n\n  render() {\n    const { images, onSearch } = this.props;\n    const { largeImage, modal } = this.state;\n\n    return (\n      <div>\n        {modal && <Modal onClose={this.closeModal} largeImage={largeImage} />}\n        <ul className={styles.gallery}>\n          {images.map(image => (\n            <li key={image.id}>\n              <GalleryItem\n                image={image}\n                onShowLarge={this.hadleLargeImageClick}\n              />\n            </li>\n          ))}\n        </ul>\n        <button\n          className={styles.showMoreButton}\n          type=\"button\"\n          onClick={onSearch}\n        >\n          Load more\n        </button>\n      </div>\n    );\n  }\n}\n\nexport default Gallery;\n","import React from 'react';\nimport styles from './Loader.module.css';\n\nconst Loader = () => <h1 className={styles.loader}>Images are loading...</h1>;\n\nexport default Loader;\n","import axios from 'axios';\n\nconst API_KEY = '12822384-0f4137aa01cc365f1b2d07932';\n\nexport const fetchImages = (query, page) =>\n  axios.get(\n    `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${query}&page=${page}&per_page=12&key=${API_KEY}`,\n  );\nexport const hey = () => null;\n","import React, { Component } from 'react';\n\nimport SearchForm from './SearchForm/SerachForm';\nimport Gallery from './Gallery/Gallery';\nimport Loader from './Loader/Loader';\n\nimport * as pixabayAPI from '../services/pixabayAPI';\nimport styles from './ImageSearchApp.module.css';\n\nfunction scrollToBottom() {\n  const bottom = document.querySelector('.bottom');\n  bottom.scrollIntoView({ behavior: 'smooth' });\n}\n\nclass ImageSearchApp extends Component {\n  state = {\n    searchValue: '',\n    images: [],\n    isLoading: false,\n    error: null,\n    page: 1,\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    this.setState({ isLoading: true });\n\n    const { searchValue } = this.state;\n    const firstPage = 1;\n\n    pixabayAPI\n      .fetchImages(searchValue, firstPage)\n      .then(({ data: hits }) =>\n        this.setState(prevState => {\n          return {\n            images: hits.hits,\n            page: prevState.page + 1,\n          };\n        }),\n      )\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  handleChange = e => {\n    const { value } = e.target;\n    this.setState({ searchValue: value });\n  };\n\n  showMore = () => {\n    const { searchValue, page } = this.state;\n\n    pixabayAPI\n      .fetchImages(searchValue, page)\n      .then(({ data: hits }) =>\n        this.setState(prevState => {\n          return {\n            images: [...prevState.images, ...hits.hits],\n            page: page + 1,\n          };\n        }, scrollToBottom),\n      )\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  render() {\n    const { searchValue, images, isLoading, error } = this.state;\n    return (\n      <div className={styles.app}>\n        <SearchForm\n          onSubmit={this.handleSubmit}\n          onSearch={this.handleChange}\n          value={searchValue}\n        />\n\n        {error && <p>Something went wrong: {error.message}</p>}\n\n        {(isLoading && <Loader />) ||\n          (images.length > 0 && (\n            <Gallery images={images} onSearch={this.showMore} />\n          ))}\n\n        <div className=\"bottom\"></div>\n      </div>\n    );\n  }\n}\n\nexport default ImageSearchApp;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport ImageSearchApp from './components/ImageSearchApp';\n\nReactDOM.render(<ImageSearchApp />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__Bzyz_\",\"modal\":\"Modal_modal__1YUU8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"Gallery_gallery__SZGJU\",\"showMoreButton\":\"Gallery_showMoreButton__2vASH\"};"],"sourceRoot":""}