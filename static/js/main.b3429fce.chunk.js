(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,a){e.exports={overlay:"Modal_overlay__Bzyz_",modal:"Modal_modal__1YUU8"}},13:function(e,t,a){e.exports={balance:"Balance_balance__14vRU",arrowUp:"Balance_arrowUp__2EPrX",arrowDown:"Balance_arrowDown__1uxGi"}},14:function(e,t,a){e.exports={gallery:"Gallery_gallery__SZGJU",showMoreButton:"Gallery_showMoreButton__2vASH"}},26:function(e,t,a){e.exports={searchForm:"SearchForm_searchForm__-Zu33"}},27:function(e,t,a){e.exports={loader:"Loader_loader__3biP2"}},29:function(e,t,a){e.exports={app:"ImageSearchApp_app__es103"}},30:function(e,t,a){e.exports={history:"TransactionHistore_history__3ucSs"}},33:function(e,t,a){e.exports=a(65)},39:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(8),l=a.n(o),c=a(15),s=a(3),i=a(4),m=a(6),u=a(5),h=a(7),p=a(26),d=a.n(p),f=function(e){var t=e.onSearch,a=e.value,n=e.onSubmit;return r.a.createElement("form",{className:d.a.searchForm,onSubmit:n},r.a.createElement("input",{type:"text",autoComplete:"off",placeholder:"Search images...",onChange:t,value:a}))},b=(a(39),function(e){var t=e.image,a=e.onShowLarge,n=t.likes,o=t.views,l=t.comments,c=t.downloads,s=t.webformatURL,i=t.largeImageURL;return r.a.createElement("div",{className:"photo-card"},r.a.createElement("img",{src:s,alt:"img"}),r.a.createElement("div",{className:"stats"},r.a.createElement("p",{className:"stats-item"},r.a.createElement("i",{className:"material-icons"},"thumb_up"),n),r.a.createElement("p",{className:"stats-item"},r.a.createElement("i",{className:"material-icons"},"visibility"),o),r.a.createElement("p",{className:"stats-item"},r.a.createElement("i",{className:"material-icons"},"comments"),l),r.a.createElement("p",{className:"stats-item"},r.a.createElement("i",{className:"material-icons"},"cloud_download"),c)),r.a.createElement("button",{className:"fullscreen-button",type:"button",onClick:function(){return a(i)}},r.a.createElement("i",{className:"material-icons"},"zoom_out_map")))}),g=a(12),v=a.n(g),E=function(e){function t(){var e,a;Object(s.a)(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={},a.backdropeRef=Object(n.createRef)(),a.handleKeyPress=function(e){"Escape"===e.code&&a.props.onClose()},a.handleKeyDowm=function(){},a.handleBackDropClick=function(e){var t=a.backdropeRef.current;t&&e.target!==t||a.props.onClose()},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyPress)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyPress)}},{key:"render",value:function(){var e=this.props.largeImage;return r.a.createElement("div",{className:v.a.overlay,onClick:this.handleBackDropClick,ref:this.backdropeRef,onKeyDown:this.handleKeyDown,role:"button",tabIndex:"0"},r.a.createElement("div",{className:v.a.modal},r.a.createElement("img",{src:e,alt:"",className:v.a.modal})))}}]),t}(n.Component),y=a(14),w=a.n(y),_=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={largeImage:"",modal:!1},a.hadleLargeImageClick=function(e){a.setState({largeImage:e,modal:!0})},a.closeModal=function(){a.setState({modal:!1})},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.images,n=t.onSearch,o=this.state,l=o.largeImage,c=o.modal;return r.a.createElement("div",null,c&&r.a.createElement(E,{onClose:this.closeModal,largeImage:l}),r.a.createElement("ul",{className:w.a.gallery},a.map(function(t){return r.a.createElement("li",{key:t.id},r.a.createElement(b,{image:t,onShowLarge:e.hadleLargeImageClick}))})),r.a.createElement("button",{className:w.a.showMoreButton,type:"button",onClick:n},"Load more"))}}]),t}(n.Component);_.defaultProps={images:[]};var N=_,S=a(27),k=a.n(S),C=function(){return r.a.createElement("h1",{className:k.a.loader},"Images are loading...")},O=a(28),j=a.n(O),D=function(e,t){return j.a.get("https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=".concat(e,"&page=").concat(t,"&per_page=12&key=").concat("12822384-0f4137aa01cc365f1b2d07932"))},L=a(29),x=a.n(L);function I(){document.querySelector(".bottom").scrollIntoView({behavior:"smooth"})}var M=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={searchValue:"",images:[],isLoading:!1,error:null,page:1},a.handleSubmit=function(e){e.preventDefault(),a.setState({isLoading:!0});var t=a.state.searchValue;D(t,1).then(function(e){var t=e.data;return a.setState(function(e){return{images:t.hits,page:e.page+1}},I)}).catch(function(e){return a.setState({error:e})}).finally(function(){return a.setState({isLoading:!1})})},a.handleChange=function(e){var t=e.target.value;a.setState({searchValue:t})},a.showMore=function(){var e=a.state,t=e.searchValue,n=e.page;D(t,n).then(function(e){var t=e.data;return a.setState(function(e){return{images:[].concat(Object(c.a)(e.images),Object(c.a)(t.hits)),page:n+1}},I)}).catch(function(e){return a.setState({error:e})}).finally(function(){return a.setState({isLoading:!1})})},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.searchValue,a=e.images,n=e.isLoading,o=e.error;return r.a.createElement("div",{className:x.a.app},r.a.createElement(f,{onSubmit:this.handleSubmit,onSearch:this.handleChange,value:t}),o&&r.a.createElement("p",null,"Something went wrong: ",o.message),n&&r.a.createElement(C,null)||a.length>0&&r.a.createElement(N,{images:a,onSearch:this.showMore}),r.a.createElement("div",{className:"bottom"}))}}]),t}(n.Component),B=a(11),U=(a(57),a(9)),A=a.n(U),P=function(e){var t=e.onClick;return r.a.createElement("section",{className:A.a.controls},r.a.createElement("input",{type:"number",className:A.a.input,min:"1"}),r.a.createElement("button",{type:"button",name:"deposit",onClick:t,className:A.a.button},"Deposit"),r.a.createElement("button",{type:"button",name:"withdraw",onClick:t,className:A.a.button},"Withdraw"))},R=a(13),V=a.n(R),K=function(e){var t=e.balance,a=e.costs,n=e.income;return r.a.createElement("section",{className:V.a.balance},r.a.createElement("span",null,r.a.createElement("i",{className:V.a.arrowUp},"\u2191 "),n),r.a.createElement("span",null,r.a.createElement("i",{className:V.a.arrowDown},"\u2193 "),a),r.a.createElement("span",null,"Balance: ",t,"$"))},z=a(30),F=a.n(z),G=function(e){var t=e.history;return r.a.createElement("table",{className:F.a.history},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Transaction"),r.a.createElement("th",null,"Amount"),r.a.createElement("th",null,"Date"))),r.a.createElement("tbody",null,t.map(function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.type[0].toUpperCase()+e.type.slice(1)),r.a.createElement("td",null,Math.abs(e.amount),".00$"),r.a.createElement("td",null,e.date))})))},J=a(58),Z={textAlign:"center",fontSize:"24px"},T=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={history:[],balance:0,costs:0,income:0},a.alertNigativNumber=function(){B.b.warn("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0446\u0435\u043b\u043e\u0435 \u043f\u043e\u043b\u043e\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u0447\u0438\u0441\u043b\u043e!")},a.alertZeroNumber=function(){B.b.info("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0443\u043c\u043c\u0443 \u0434\u043b\u044f \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438!")},a.alertNoMoney=function(){B.b.error("\u041d\u0430 \u0441\u0447\u0435\u0442\u0443 \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0441\u0440\u0435\u0434\u0441\u0442\u0432 \u0434\u043b\u044f \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438!")},a.handleOperation=function(e){var t=e.target.parentNode.firstChild.value,n=e.target.name,r=(new Date).toLocaleString("en-GB"),o="withdraw"===e.target.name?-1*Number(t):Number(t),l={id:J(),type:n,amount:o,date:r};a.setState(function(e){var r=Number(t);if(r%1!==0||-1===Math.sign(r))return a.alertNigativNumber();if(0===r)return a.alertZeroNumber();if(e.balance<r&&"withdraw"===n)return a.alertNoMoney();e.history.unshift(l);var o="withdraw"===n?r:0,c="deposit"===n?r:0;return{balance:e.balance+l.amount,costs:e.costs+o,income:e.income+c}}),e.target.parentNode.firstChild.value=""},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("history"),t=e?JSON.parse(e):[];this.setState(t)}},{key:"componentDidUpdate",value:function(){var e=this.state;localStorage.setItem("history",JSON.stringify(e))}},{key:"render",value:function(){var e=this.state,t=e.history,a=e.balance,n=e.costs,o=e.income;return r.a.createElement("div",null,r.a.createElement(P,{onClick:this.handleOperation}),r.a.createElement(K,{balance:a,costs:n,income:o}),r.a.createElement(G,{history:t}),r.a.createElement(B.a,{position:"bottom-center",closeButton:!1,newestOnTop:!0,draggablePercent:100,autoClose:8e3,style:Z}))}}]),t}(n.Component),q=function(){return r.a.createElement("div",null,r.a.createElement(T,null),r.a.createElement(M,null))};l.a.render(r.a.createElement(q,null),document.getElementById("root"))},9:function(e,t,a){e.exports={controls:"Controls_controls__Y6VXl",button:"Controls_button__3lEFD",input:"Controls_input__1Eu5f"}}},[[33,1,2]]]);
//# sourceMappingURL=main.b3429fce.chunk.js.map